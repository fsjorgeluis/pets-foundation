import { ILayerVersion } from 'aws-cdk-lib/aws-lambda';

export const lambdaFunctions = (sharedLayer: ILayerVersion) => {
	return [
		{
			id: 'CustomAuthorizer',
			name: 'authorizer',
			src: 'authorizer',
			action: 'authorize',
			description: 'Authorizer for Pets Foundation API',
			permission: '',
			canPublish: false,
		},
		{
			id: 'CreateFoundation',
			name: 'create-foundation',
			src: 'foundations/add',
			layers: [sharedLayer],
			action: 'createFoundation',
			description: 'Create a new foundation',
			permission: 'write',
			canPublish: false,
		},
		{
			id: 'FindAllFoundations',
			name: 'findAll-foundation',
			src: 'foundations/find-all',
			action: 'findAllFoundations',
			description: 'Find all foundations',
			permission: 'read',
			canPublish: false,
		},
		{
			id: 'CreatePet',
			name: 'create-pet',
			src: 'pets/add',
			layers: [sharedLayer],
			action: 'addPet',
			description: 'Add a new pet',
			permission: 'write',
			canPublish: false,
		},
		{
			id: 'FindAllPets',
			name: 'findAll-pet',
			src: 'pets/find-all',
			layers: [sharedLayer],
			action: 'findAllPets',
			description: 'Find all pets for specific foundation',
			permission: 'read',
			canPublish: false,
		},
		{
			id: 'FindOnePet',
			name: 'findOne-pet',
			src: 'pets/find-one',
			layers: [sharedLayer],
			action: 'findOnePet',
			description: 'Find one pet for specific foundation by id',
			permission: 'read',
			canPublish: false,
		},
		{
			id: 'UpdatePet',
			name: 'update-pet',
			src: 'pets/update',
			layers: [sharedLayer],
			action: 'updatePet',
			description: 'Update one pet for specific foundation by id',
			permission: 'read-write',
			canPublish: false,
		},
		{
			id: 'DeletePet',
			name: 'delete-pet',
			src: 'pets/remove',
			layers: [sharedLayer],
			action: 'removePet',
			description: 'Delete one pet for specific foundation by id',
			permission: 'read-write',
			canPublish: false,
		},
		{
			id: 'AdoptPet',
			name: 'adopt-pet',
			src: 'pets/adopt',
			layers: [sharedLayer],
			action: 'adoptPet',
			description: 'Adopt one pet for specific foundation by id',
			permission: 'read-write',
			canPublish: true,
		},
	];
};
